<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FireFox #65269 - FLL Robot Design Process</title>
  <style>
    :root {
      --primary: #ff6600;        /* Bright orange */
      --primary-dark: #cc5200;   /* Dark orange */
      --primary-light: #ff8533;  /* Light orange */
      --fire-red: #ff3300;       /* Red-orange for fire effect */
      --accent: #ffaa00;         /* Golden orange */
      --muted: #f5f5f5;          /* Light gray/white */
      --text: #1a1a1a;           /* Near black */
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      background: var(--muted);
      line-height: 1.6;
    }
    header {
      background: linear-gradient(135deg, var(--fire-red), var(--primary), var(--accent));
      background-size: 200% 200%;
      animation: gradientShift 8s ease infinite;
      color: white;
      padding: 4rem 1.5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    header h1 { 
      font-size: 2.5rem; 
      margin-bottom: 0.5rem;
      position: relative;
      animation: fadeInDown 1s ease;
    }
    header p { 
      max-width: 800px; 
      margin: 0.5rem auto 0; 
      font-size: 1.1rem;
      position: relative;
      animation: fadeInUp 1s ease 0.3s both;
    }
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    nav {
      position: sticky;
      top: 0;
      background: white;
      border-bottom: 1px solid #e5e7eb;
      z-index: 100;
    }
    nav ul {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0;
      padding: 0;
      margin: 0;
    }
    nav li {
      position: relative;
    }
    nav a {
      text-decoration: none;
      color: var(--primary);
      font-weight: 600;
      font-size: 0.95rem;
      padding: 1rem 1.5rem;
      display: block;
      transition: all 0.3s ease;
      position: relative;
    }
    nav a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 0;
      height: 3px;
      background: var(--primary);
      transition: all 0.3s ease;
      transform: translateX(-50%);
    }
    nav a:hover::after {
      width: 80%;
    }
    nav > ul > li > a:hover { 
      background: var(--muted);
      color: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    /* Dropdown styles */
    .dropdown {
      position: relative;
    }
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      min-width: 200px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      border-radius: 0 0 8px 8px;
      list-style: none;
      padding: 0.5rem 0;
      margin: 0;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
    }
    .dropdown:hover .dropdown-menu {
      display: block;
      opacity: 1;
      transform: translateY(0);
      animation: slideDown 0.3s ease;
    }
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .dropdown-menu li {
      width: 100%;
    }
    .dropdown-menu a {
      padding: 0.75rem 1.5rem;
      font-weight: 500;
      font-size: 0.9rem;
    }
    .dropdown-menu a:hover {
      background: var(--muted);
      color: #0b5aa6;
    }

    main { max-width: 1100px; margin: auto; padding: 2rem 1.5rem; }

    section {
      margin-bottom: 4rem;
      scroll-margin-top: 80px;
      opacity: 0;
      animation: fadeInSection 0.8s ease forwards;
    }
    @keyframes fadeInSection {
      to {
        opacity: 1;
      }
    }
    section h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: var(--primary);
      position: relative;
      display: inline-block;
      padding-bottom: 0.5rem;
    }
    section h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 2px;
      animation: expandWidth 0.8s ease 0.3s both;
    }
    @keyframes expandWidth {
      from {
        width: 0;
      }
      to {
        width: 100%;
      }
    }
    section h3 {
      margin-top: 1.5rem;
      color: #0b5aa6;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      align-items: center;
    }

    .card {
      background: white;
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 102, 0, 0.1), transparent);
      transition: left 0.5s ease;
    }
    .card:hover::before {
      left: 100%;
    }
    .card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 40px rgba(255, 102, 0, 0.2);
    }

    .card img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 0.75rem;
      transition: transform 0.4s ease;
    }
    .card:hover img {
      transform: scale(1.05);
    }

    .tag {
      display: inline-block;
      background: var(--accent);
      color: #3b3b00;
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      animation: pulse 2s ease infinite;
    }
    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    footer {
      background: var(--primary);
      color: white;
      text-align: center;
      padding: 2rem 1.5rem;
    }
    footer p { max-width: 800px; margin: auto; }
    
    /* Visitor Counter Styles */
    .visitor-counter {
      margin-top: 1.5rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      backdrop-filter: blur(10px);
      display: inline-block;
      min-width: 300px;
    }
    .visitor-counter h3 {
      margin: 0 0 0.75rem 0;
      font-size: 1rem;
      font-weight: 600;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .counter-display {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 0.75rem;
    }
    .counter-digit {
      background: rgba(0, 0, 0, 0.3);
      padding: 0.75rem 1rem;
      border-radius: 8px;
      font-size: 2rem;
      font-weight: bold;
      min-width: 50px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      animation: digitPop 0.5s ease;
      font-family: 'Courier New', monospace;
    }
    @keyframes digitPop {
      0% {
        transform: scale(0.8);
        opacity: 0;
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }
    .counter-label {
      font-size: 0.85rem;
      opacity: 0.8;
      margin-top: 0.5rem;
    }
    .loading-dots {
      display: inline-block;
    }
    .loading-dots span {
      animation: blink 1.4s infinite;
    }
    .loading-dots span:nth-child(2) {
      animation-delay: 0.2s;
    }
    .loading-dots span:nth-child(3) {
      animation-delay: 0.4s;
    }
    @keyframes blink {
      0%, 80%, 100% {
        opacity: 0;
      }
      40% {
        opacity: 1;
      }
    }

    /* Mission Runs Styles */
    .run-tabs {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
      border-bottom: 2px solid #e5e7eb;
      padding-bottom: 0.5rem;
    }
    .run-tab {
      background: white;
      border: 2px solid var(--primary);
      color: var(--primary);
      padding: 0.75rem 1.5rem;
      border-radius: 8px 8px 0 0;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .run-tab::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 0;
      background: var(--primary);
      transition: height 0.3s ease;
      z-index: -1;
    }
    .run-tab:hover::before {
      height: 100%;
    }
    .run-tab:hover {
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(255, 102, 0, 0.3);
    }
    .run-tab.active {
      background: var(--primary);
      color: white;
      transform: scale(1.05);
      box-shadow: 0 6px 16px rgba(255, 102, 0, 0.4);
    }
    .run-content {
      display: none;
      animation: fadeIn 0.3s;
    }
    .run-content.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .iteration-card {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 2rem;
      align-items: start;
      transition: all 0.3s ease;
      animation: slideInLeft 0.6s ease;
    }
    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    .iteration-card:hover {
      box-shadow: 0 8px 24px rgba(255, 102, 0, 0.15);
      transform: translateX(5px);
    }
    .iteration-card.single-column {
      grid-template-columns: 1fr;
    }
    @media (max-width: 768px) {
      .iteration-card {
        grid-template-columns: 1fr;
      }
    }
    .iteration-image {
      grid-column: 1;
    }
    .iteration-content {
      grid-column: 2;
    }
    .iteration-card.single-column .iteration-content {
      grid-column: 1;
    }
    .iteration-card h4 {
      color: var(--primary);
      margin-top: 0;
      margin-bottom: 0.75rem;
    }
    .challenge-badge {
      display: inline-block;
      background: #fee;
      color: #c00;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
      animation: bounceIn 0.6s ease;
      box-shadow: 0 2px 8px rgba(204, 0, 0, 0.2);
    }
    @keyframes bounceIn {
      0% {
        transform: scale(0);
        opacity: 0;
      }
      50% {
        transform: scale(1.1);
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }
    .success-badge {
      display: inline-block;
      background: #efe;
      color: #060;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-right: 0.5rem;
      margin-bottom: 0.5rem;
      animation: bounceIn 0.6s ease, glow 2s ease-in-out infinite;
      box-shadow: 0 2px 8px rgba(0, 102, 0, 0.2);
    }
    @keyframes glow {
      0%, 100% {
        box-shadow: 0 2px 8px rgba(0, 102, 0, 0.2);
      }
      50% {
        box-shadow: 0 4px 16px rgba(0, 200, 0, 0.5);
      }
    }
    
    /* Run images - smaller and clickable */
    .iteration-card img {
      max-width: 300px;
      width: 100%;
      border-radius: 8px;
      margin: 1rem 0;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .iteration-card img:hover {
      transform: scale(1.02);
      box-shadow: 0 4px 12px rgba(255, 102, 0, 0.3);
    }
    
    /* Modal/Lightbox for enlarged images */
    .image-modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      align-items: center;
      justify-content: center;
    }
    .image-modal.active {
      display: flex;
    }
    .modal-content {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
      border-radius: 8px;
    }
    .close-modal {
      position: absolute;
      top: 20px;
      right: 40px;
      color: white;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.2s;
    }
    .close-modal:hover {
      color: var(--primary);
      transform: rotate(90deg);
      transition: all 0.3s ease;
    }
    
    /* Floating animated shapes */
    .floating-shapes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }
    .shape {
      position: absolute;
      opacity: 0.1;
      animation: float 20s infinite ease-in-out;
    }
    .shape:nth-child(1) {
      width: 80px;
      height: 80px;
      background: var(--primary);
      border-radius: 50%;
      top: 20%;
      left: 10%;
      animation-duration: 15s;
      animation-delay: 0s;
    }
    .shape:nth-child(2) {
      width: 60px;
      height: 60px;
      background: var(--accent);
      border-radius: 50%;
      top: 60%;
      right: 15%;
      animation-duration: 18s;
      animation-delay: 2s;
    }
    .shape:nth-child(3) {
      width: 100px;
      height: 100px;
      background: var(--fire-red);
      border-radius: 20px;
      bottom: 20%;
      left: 20%;
      animation-duration: 22s;
      animation-delay: 4s;
      transform: rotate(45deg);
    }
    .shape:nth-child(4) {
      width: 70px;
      height: 70px;
      background: var(--primary-light);
      border-radius: 50%;
      top: 40%;
      right: 25%;
      animation-duration: 16s;
      animation-delay: 1s;
    }
    @keyframes float {
      0%, 100% {
        transform: translateY(0) translateX(0) rotate(0deg);
      }
      25% {
        transform: translateY(-30px) translateX(20px) rotate(90deg);
      }
      50% {
        transform: translateY(-60px) translateX(-20px) rotate(180deg);
      }
      75% {
        transform: translateY(-30px) translateX(20px) rotate(270deg);
      }
    }
    
    /* Scroll progress indicator */
    .scroll-progress {
      position: fixed;
      top: 0;
      left: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--fire-red), var(--primary), var(--accent));
      z-index: 1000;
      transition: width 0.2s ease;
      box-shadow: 0 2px 8px rgba(255, 102, 0, 0.5);
    }
    
    /* Scroll to top button */
    .scroll-top {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, var(--primary), var(--fire-red));
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 24px;
      z-index: 999;
      opacity: 0;
      transform: scale(0);
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(255, 102, 0, 0.4);
    }
    .scroll-top.visible {
      opacity: 1;
      transform: scale(1);
    }
    .scroll-top:hover {
      transform: scale(1.1) translateY(-5px);
      box-shadow: 0 6px 20px rgba(255, 102, 0, 0.6);
    }
    .scroll-top:active {
      transform: scale(0.95);
    }
  </style>
</head>
<body>

<!-- Floating shapes background -->
<div class="floating-shapes">
  <div class="shape"></div>
  <div class="shape"></div>
  <div class="shape"></div>
  <div class="shape"></div>
</div>

<!-- Scroll progress indicator -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- Scroll to top button -->
<div class="scroll-top" id="scrollTop" onclick="scrollToTop()">‚Üë</div>

<header>
  <h1>FireFox #65269</h1>
  <p>FLL Team Website</p>
</header>

<nav>
  <ul>
    <li class="dropdown">
      <a href="#robot-design">Robot Design</a>
      <ul class="dropdown-menu">
        <li><a href="#design">Design Evolution</a></li>
        <li><a href="#strategy">Mission Strategy</a></li>
        <li><a href="#workflow">Workflow</a></li>
        <li><a href="#mission-runs">Mission Runs</a></li>
        <li><a href="#mechanical">Mechanical & Programming</a></li>
        <li><a href="#pid">Programming & PID</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#innovation">Innovation</a>
      <ul class="dropdown-menu">
        <li><a href="#innovation-project">Innovation Project</a></li>
        <li><a href="#research">Research</a></li>
      </ul>
    </li>
    <li>
      <a href="#core-values">Core Values</a>
    </li>
  </ul>
</nav>

<main>

<section id="design">
  <h2>Design Evolution & Iteration</h2>
  <div class="grid">
    <div class="card">
      <span class="tag">Claire</span>
      <img src="bot v2.gif" alt="Last year's robot design" />
      <p>
        Our robot design started by identifying problems from last season. Previously, our robot used two attachment motors‚Äîone in the front and one in the back‚Äîbut this setup was unstable and inefficient.
      </p>
      <p>
        The rear motor sat at a different height, and swapping attachments often pulled off the front plate. Over the summer, we redesigned our robot using an iterative process.
      </p>
    </div>
    <div class="card">
      <h4 style="color: var(--primary); margin-top: 0; margin-bottom: 1rem;">Last Year's Motor Setup Issues</h4>
      <img src="lastyearrobotfrontmotorview.png" alt="Last year's front motor view" style="width: 100%; border-radius: 12px; margin-bottom: 0.75rem;" />
      <img src="lastyearbackmotorview.png" alt="Last year's back motor view" style="width: 100%; border-radius: 12px; margin-bottom: 0.75rem;" />
      <p style="font-size: 0.9rem; color: #666;">
        Front and back motors at different heights created instability and made attachment swaps difficult.
      </p>
    </div>
    <div class="card">
      <h4 style="color: var(--primary); margin-top: 0; margin-bottom: 1rem;">Motor Placement Iterations</h4>
      <div style="position: relative;">
        <img id="motorSlide" src="motor placement 1.png" alt="Motor placement iteration" style="width: 100%; border-radius: 12px;" />
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
          <button onclick="previousMotor()" style="background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;">‚Üê Previous</button>
          <span id="motorCounter" style="font-weight: 600;">1 / 7</span>
          <button onclick="nextMotor()" style="background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;">Next ‚Üí</button>
        </div>
      </div>
      <p style="margin-top: 1rem; font-size: 0.9rem; color: #666;">
        We tested different motor placements and orientations using BrickLink Studio, which allowed us to make adjustments without taking the physical robot apart.
      </p>
    </div>
  </div>

  <h3>CAD Design: BrickLink Studio</h3>
  <div class="grid">
    <div class="card" style="text-align: center;">
      <h4 style="color: var(--primary); margin-bottom: 0.5rem;">BrickLink Studio Model</h4>
      <img src="bricklinkstudioupdated.gif" alt="BrickLink Studio CAD model" style="width: 100%; border-radius: 12px; margin-bottom: 1rem;" />
      <p style="font-size: 0.9rem; color: #666;">Digital CAD model allowing us to test designs virtually before building</p>
    </div>
  </div>

  <h3>Pinless Attachment System</h3>
  <div class="grid">
    <div class="card" style="text-align: center;">
      <h4 style="color: var(--primary); margin-bottom: 0.5rem;">Attachment Mechanism</h4>
      <img src="pinless attachment rotating.gif" alt="Pinless attachment mechanism" style="width: 100%; border-radius: 12px; margin-bottom: 1rem;" />
      <p style="font-size: 0.9rem; color: #666;">Gravity-drop attachments that fit securely without pins, allowing for quick swaps</p>
    </div>
    <div class="card" style="text-align: center;">
      <h4 style="color: var(--primary); margin-bottom: 0.5rem;">Attachment in Action</h4>
      <img src="Claire Robot with attachment 3 (1).gif" alt="Robot with attachment demonstration" style="width: 100%; border-radius: 12px; margin-bottom: 1rem;" />
      <p style="font-size: 0.9rem; color: #666;">Demonstrating the quick-swap mechanism with gravity-drop attachment</p>
    </div>
  </div>

  <h3>Before & After: Design Evolution</h3>
  <div class="grid">
    <div class="card" style="text-align: center;">
      <h4 style="color: var(--primary); margin-bottom: 0.5rem;">Last Year's Robot</h4>
      <img src="lastyearrobot.png" alt="Last year's robot" style="width: 100%; border-radius: 12px; margin-bottom: 1rem;" />
      <p style="font-size: 0.9rem; color: #666;">Unstable dual-motor setup with rear motor at different height</p>
    </div>
    <div class="card" style="text-align: center;">
      <h4 style="color: var(--primary); margin-bottom: 0.5rem;">This Year's Robot</h4>
      <img src="Claire Robot with attachment 3 (1).gif" alt="This year's robot with attachment" style="width: 100%; border-radius: 12px; margin-bottom: 1rem;" />
      <p style="font-size: 0.9rem; color: #666;">Optimized flat front motors with pinless, gravity-drop attachments</p>
    </div>
  </div>
</section>

<script>
    const motorImages = [
        'motor placement 1.png',
        'motor placement 2.png',
        'motor placement 3.png',
        'motor placement 4.png',
        'motor placement 5.png',
        'motor placement 6.png',
        'motor placement 7.png'
    ];
    let motorIndex = 0;

    function nextMotor() {
        motorIndex = (motorIndex + 1) % motorImages.length;
        updateMotorSlide();
    }

    function previousMotor() {
        motorIndex = (motorIndex - 1 + motorImages.length) % motorImages.length;
        updateMotorSlide();
    }

    function updateMotorSlide() {
        document.getElementById('motorSlide').src = motorImages[motorIndex];
        document.getElementById('motorCounter').textContent = (motorIndex + 1) + ' / ' + motorImages.length;
    }
</script>

<script>
    const brainstormImages = [
        'RulesOfBrainstorming.webp',
        'isabelladrawing1.jpg',
        'isabelladrawing2.jpg',
        'ClaireBrainstormingDrawing1.jpeg',
        'ClaireBrainstormingDrawing2.jpeg',
        'ClaireBrainstormingDrawing3.jpeg',
        'ClaireBrainstormingDrawing4.jpeg'
    ];
    let brainstormIndex = 0;

    function nextBrainstorm() {
        brainstormIndex = (brainstormIndex + 1) % brainstormImages.length;
        updateBrainstormSlide();
    }

    function previousBrainstorm() {
        brainstormIndex = (brainstormIndex - 1 + brainstormImages.length) % brainstormImages.length;
        updateBrainstormSlide();
    }

    function updateBrainstormSlide() {
        document.getElementById('brainstormSlide').src = brainstormImages[brainstormIndex];
        document.getElementById('brainstormCounter').textContent = (brainstormIndex + 1) + ' / ' + brainstormImages.length;
    }
</script>

<script>
    const missionImages = [
        'actiontypesorting.jpg',
        'missionlocationsorting.jpg',
        'difficultysorting.jpg'
    ];
    let missionIndex = 0;

    function nextMission() {
        missionIndex = (missionIndex + 1) % missionImages.length;
        updateMissionSlide();
    }

    function previousMission() {
        missionIndex = (missionIndex - 1 + missionImages.length) % missionImages.length;
        updateMissionSlide();
    }

    function updateMissionSlide() {
        document.getElementById('missionSlide').src = missionImages[missionIndex];
        document.getElementById('missionCounter').textContent = (missionIndex + 1) + ' / ' + missionImages.length;
    }
</script>

  <section id="strategy">
    <h2>Mission Strategy & Brainstorming</h2>
    <div class="grid">
      <div class="card">
        <span class="tag">Isabella</span>
        <h4 style="color: var(--primary); margin-top: 0; margin-bottom: 1rem;">Student Brainstorming & Drawings</h4>
        <div style="position: relative;">
          <img id="brainstormSlide" src="RulesOfBrainstorming.webp" alt="Brainstorming drawings" style="width: 100%; border-radius: 12px;" />
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
            <button onclick="previousBrainstorm()" style="background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;">‚Üê Previous</button>
            <span id="brainstormCounter" style="font-weight: 600;">1 / 3</span>
            <button onclick="nextBrainstorm()" style="background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;">Next ‚Üí</button>
          </div>
        </div>
        <p style="margin-top: 1rem;">
          Once the game was released, we focused on mission strategy using the Seven Rules of Brainstorming: deferring judgment, encouraging wild ideas, building on each other's thoughts, staying focused, aiming for quantity, welcoming all voices, and documenting everything.
        </p>
        <div style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); border-left: 4px solid var(--accent); padding: 1rem; border-radius: 8px; margin-top: 1rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <p style="margin: 0; font-weight: 600; color: var(--primary); font-size: 1.05rem;">
            üí° Brainstorming by the Numbers: Each of our 4 team members generated 4 unique ideas for all 15 missions‚Äîresulting in <strong>240 total ideas</strong> to analyze and refine!
          </p>
        </div>
      </div>
      <div class="card">
        <h4 style="color: var(--primary); margin-top: 0; margin-bottom: 1rem;">Mission Analysis & Sorting</h4>
        <div style="position: relative;">
          <img id="missionSlide" src="actiontypesorting.jpg" alt="Mission analysis" style="width: 100%; border-radius: 12px;" />
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
            <button onclick="previousMission()" style="background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;">‚Üê Previous</button>
            <span id="missionCounter" style="font-weight: 600;">1 / 3</span>
            <button onclick="nextMission()" style="background: var(--primary); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-weight: 600;">Next ‚Üí</button>
          </div>
        </div>
        <p style="margin-top: 1rem;">
          Each team member sketched solutions for missions and robot paths. We analyzed missions by action type, field location, difficulty, and points, which helped us group missions that fit together naturally.
        </p>
        <p>
          This allowed us to design attachments that could complete multiple tasks in a single run, prioritizing consistent and repeatable performance over attempting every mission.
        </p>
      </div>
    </div>
  </section>

  <section id="workflow">
    <h2>Project Management & Workflow</h2>
    
    <h3>Run Groupings</h3>
    <div class="grid">
      <div class="card">
        <span class="tag">Mason</span>
        <img src="missiongroupinggraphic.png" alt="Mission grouping graphic" style="width: 100%; border-radius: 12px;" />
        <p>
          After analyzing missions by action type, field location, difficulty, and points, we grouped them into strategic runs labeled A through E. This grouping allowed us to design attachments that could complete multiple missions efficiently in a single run.
        </p>
        <p>
          We didn't assign a final order right away, which gave us flexibility to adjust our strategy as testing progressed and we learned which runs were most reliable.
        </p>
      </div>
    </div>

    <h3>Team Duos & Side Assignments</h3>
    <div class="grid">
      <div class="card">
        <img src="duorobotinfographic.png" alt="Team duos working on corresponding sides" style="width: 100%; border-radius: 12px;" />
        <p>
          This structure allowed us to work in parallel, maximize practice time, and develop specialized expertise for our assigned missions. Duos collaborated on shared challenges while maintaining ownership of their specific runs.
        </p>
      </div>
    </div>

    <h3>Three Session Method</h3>
    <div class="grid">
      <div class="card">
        <img src="threemethodsession.png" alt="Three session method workflow" style="width: 100%; border-radius: 12px;" />
      </div>
    </div>
  </section>

  <section id="mission-runs">
    <h2>Mission Runs: Design & Execution</h2>
    <p>Explore each mission run in detail, including design iterations, attachment evolution, and challenges we overcame.</p>
    
    <div class="run-tabs">
      <button class="run-tab active" onclick="showRun('run-a')">Run A</button>
      <button class="run-tab" onclick="showRun('run-b')">Run B</button>
      <button class="run-tab" onclick="showRun('run-c')">Run C</button>
      <button class="run-tab" onclick="showRun('run-d')">Run D</button>
      <button class="run-tab" onclick="showRun('run-e')">Run E</button>
    </div>

    <!-- Run A Content -->
    <div id="run-a" class="run-content active">
      <div class="card">
        <h3>Run A: Missions 1 & 2</h3>
        <p><strong>Missions:</strong> Mission 1, Mission 2</p>
        <p><strong>Points Target:</strong> 60 points</p>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="2robot.jpg" alt="Run A Iteration 1" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 1: Initial Design</h4>
          <div class="challenge-badge">Challenge</div>
          <p><strong>Approach:</strong> We started with a basic arm mechanism to complete the first mission.</p>
          <p><strong>Challenges:</strong> The attachment was too heavy and caused the robot to drift during navigation. Alignment with mission models was inconsistent.</p>
        </div>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="new base bot 4-24 (1).png" alt="Run A Iteration 2" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 2: Lightened Design</h4>
          <p><strong>Improvements:</strong> Redesigned the attachment using fewer parts and a more compact structure.</p>
          <p><strong>Results:</strong> Improved stability, but still had issues with precise positioning for Mission 2.</p>
        </div>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="RunAfinalversion.jpg" alt="Run A Final" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 3: Final Solution</h4>
          <div class="success-badge">Success</div>
          <p><strong>Solution:</strong> Added a passive guide rail to help align with mission models. Optimized motor speeds and added PID corrections.</p>
          <p><strong>Outcome:</strong> Achieved 95% success rate in practice. Consistently scores 75 points in this run.</p>
        </div>
      </div>
    </div>

    <!-- Run B Content -->
    <div id="run-b" class="run-content">
      <div class="card">
        <h3>Run B: Missions 3 & 4</h3>
        <p><strong>Missions:</strong> Mission 3, Mission 4</p>
        <p><strong>Points Target:</strong> 70 points</p>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <video style="max-width: 100%; width: 100%; border-radius: 8px;" controls>
            <source src="Run B V1.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        <div class="iteration-content">
          <h4>Iteration 1: Dual-Action Attachment</h4>
          <div class="challenge-badge">Challenge</div>
          <p><strong>Approach:</strong> Designed a single attachment to complete both missions using one motor.</p>
          <p><strong>Challenges:</strong> The mechanism was complex and prone to jamming. Timing between actions was difficult to calibrate.</p>
        </div>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <video style="max-width: 100%; width: 100%; border-radius: 8px; margin-bottom: 1rem;" controls>
            <source src="Run B Final Version.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <img src="RunBfinalversion.jpg" alt="Run B Final" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 2: Simplified Mechanism</h4>
          <div class="success-badge">Success</div>
          <p><strong>Solution:</strong> Split the actions into two separate movements with a pause between them. Added sensor feedback to confirm completion.</p>
          <p><strong>Outcome:</strong> Reliable performance with 90% success rate. Quick attachment swap makes this run efficient.</p>
        </div>
      </div>
    </div>

    <!-- Run C Content -->
    <div id="run-c" class="run-content">
      <div class="card">
        <h3>Run C: Missions 12, 13 & 11</h3>
        <p><strong>Missions:</strong> Mission 12, Mission 13, Mission 11</p>
        <p><strong>Points Target:</strong> 90 points</p>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="RunCV1.jpg" alt="Run C Iteration 1" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 1: Triple Mission Attempt</h4>
          <div class="challenge-badge">Challenge</div>
          <p><strong>Approach:</strong> Ambitious design to complete three missions in one run.</p>
          <p><strong>Challenges:</strong> Path was too complex, increasing failure points. Robot occasionally missed alignment marks.</p>
        </div>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="RunCV2.jpg" alt="Run C Iteration 2" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 2: Path Optimization</h4>
          <p><strong>Improvements:</strong> Redesigned the path to reduce turns and improve flow. Added intermediate alignment points.</p>
          <p><strong>Results:</strong> Better consistency, but Mission 8 still had reliability issues.</p>
        </div>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="RunCV2.jpg" alt="Run C Final" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 3: Final Refinement</h4>
          <div class="success-badge">Success</div>
          <p><strong>Solution:</strong> Fine-tuned PID values for each segment. Added a passive attachment that automatically engages during the run.</p>
          <p><strong>Outcome:</strong> Our highest-scoring run with excellent reliability. Key to our competition strategy.</p>
        </div>
      </div>
    </div>

    <!-- Run D Content -->
    <div id="run-d" class="run-content">
      <div class="card">
        <h3>Run D: Missions 9 & 10</h3>
        <p><strong>Missions:</strong> Mission 9, Mission 10</p>
        <p><strong>Points Target:</strong> 60 points</p>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <video style="max-width: 100%; width: 100%; border-radius: 8px;" controls>
            <source src="Run D V1.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
        <div class="iteration-content">
          <h4>Iteration 1: Precision Challenge</h4>
          <div class="challenge-badge">Challenge</div>
          <p><strong>Approach:</strong> Required extremely precise positioning for small mission models.</p>
          <p><strong>Challenges:</strong> Even minor drift caused mission failure. Battery level affected motor performance significantly.</p>
        </div>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="RunDfinalversion.jpg" alt="Run D Final" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 2: Enhanced Precision</h4>
          <div class="success-badge">Success</div>
          <p><strong>Solution:</strong> Implemented battery voltage compensation in code. Added physical alignment guides to the attachment.</p>
          <p><strong>Outcome:</strong> Reliable execution even with varying battery levels. Consistent 60-point contribution.</p>
        </div>
      </div>
    </div>

    <!-- Run E Content -->
    <div id="run-e" class="run-content">
      <div class="card">
        <h3>Run E: Missions 5, 6 & 7</h3>
        <p><strong>Missions:</strong> Mission 5, Mission 6, Mission 7</p>
        <p><strong>Points Target:</strong> 90 points</p>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="claire atachment (1).png" alt="Run E Iteration 1" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 1: Speed vs. Accuracy</h4>
          <div class="challenge-badge">Challenge</div>
          <p><strong>Approach:</strong> Attempted to complete missions quickly to maximize remaining time.</p>
          <p><strong>Challenges:</strong> Higher speeds reduced accuracy. Occasional overshooting caused mission failures.</p>
        </div>
      </div>

      <div class="iteration-card">
        <div class="iteration-image">
          <img src="RunEfinalversion.jpg" alt="Run E Final" class="run-image" />
        </div>
        <div class="iteration-content">
          <h4>Iteration 2: Balanced Approach</h4>
          <div class="success-badge">Success</div>
          <p><strong>Solution:</strong> Implemented variable speed control‚Äîfaster on long straights, slower near mission models. Added deceleration ramps.</p>
          <p><strong>Outcome:</strong> Maintains good speed while ensuring accuracy. Completes in under 30 seconds with high reliability.</p>
        </div>
      </div>
    </div>
  </section>

  <script>
    function showRun(runId) {
      // Hide all run contents
      const contents = document.querySelectorAll('.run-content');
      contents.forEach(content => content.classList.remove('active'));
      
      // Remove active class from all tabs
      const tabs = document.querySelectorAll('.run-tab');
      tabs.forEach(tab => tab.classList.remove('active'));
      
      // Show selected run content
      document.getElementById(runId).classList.add('active');
      
      // Add active class to clicked tab
      event.target.classList.add('active');
    }
  </script>

<section id="mechanical">
    <h2>Mechanical Context & Programming Focus</h2>
    <div class="grid">
        <div class="card">
            <span class="tag">Luke</span>
            <img src="Claire Robot 2025-26 (1).png" alt="Claire Robot 2025-26" />
            <p>
                We faced many mechanical challenges early in the season. Lessons from last year‚Äîespecially about passive attachments‚Äîstrongly influenced this year's robot.
            </p>
        </div>
        <div class="card">
            <img src="claire atachment (1).png" alt="Claire robot with attachment" />
            <p>
                By combining two powered motors with passive mechanisms, one motor could complete one task, the second another, and a passive attachment a third‚Äîmaking it realistic to complete three missions in one run.
            </p>
        </div>
        <div class="card">
            <img src="Claire Robot with attachment 3 (1).gif" alt="Robot with attachment demonstration" />
            <p>
                While mechanical challenges were significant, programming ultimately became our biggest focus.
            </p>
        </div>
    </div>
</section>

<section id="pid">
  <h2>Programming Evolution, PID, & Improvement</h2>
  <div class="grid">
    <div class="card">
      <span class="tag">Claire</span>
      <img src="spikeprimeblockbasedexample.png" alt="SPIKE Prime block-based programming example" />
      <p>
        To improve consistency, we switched from block coding to Pybricks, which allows a much higher number of control loop iterations. We use the gyro sensor for heading, motor encoders for distance, and degree-based motor control.
      </p>
    </div>
    <div class="card">
      <img src="pybricks screenshot.png" alt="Pybricks code screenshot" />
      <p>
        We tested various Kp and Kd values to optimize drive performance. Our best results came from Kp=1.15 and Kd=0.02, which provided minimal drift across different speeds and distances.
      </p>
    </div>
  </div>

  <h3>PID Tuning Results</h3>
  
  <!-- Kp Chart -->
  <div class="card">
    <h4 style="color: var(--primary); margin-top: 0;">Kp Tuning (Heading Error in Degrees)</h4>
    <select id="kpSelect" style="display: block; margin: 0 auto 20px auto; padding: 8px 12px; font-size: 16px; border: 2px solid var(--primary); border-radius: 6px; background: white; cursor: pointer;">
      <option value="0.6">Kp = 0.6</option>
      <option value="0.8">Kp = 0.8</option>
      <option value="1.0">Kp = 1.0</option>
      <option value="1.15" selected>Kp = 1.15 (Best)</option>
      <option value="1.2">Kp = 1.2</option>
    </select>
    <canvas id="kpChart" style="max-height: 400px;"></canvas>
  </div>

  <!-- Kd Chart -->
  <div class="card">
    <h4 style="color: var(--primary); margin-top: 0;">Kd Tuning (Heading Error in Degrees)</h4>
    <select id="kdSelect" style="display: block; margin: 0 auto 20px auto; padding: 8px 12px; font-size: 16px; border: 2px solid var(--primary); border-radius: 6px; background: white; cursor: pointer;">
      <option value="0.0001">Kd = 0.0001</option>
      <option value="0.001">Kd = 0.001</option>
      <option value="0.01">Kd = 0.01</option>
      <option value="0.02" selected>Kd = 0.02 (Best)</option>
    </select>
    <canvas id="kdChart" style="max-height: 400px;"></canvas>
  </div>

  <h3>Drive Straight Function</h3>
  <div class="card">
    <pre><code>def drive_straight(distance_mm, speed, kp=1.15, kd=0.02):
  robot.reset_gyro()
  robot.reset_encoders()
  
  while robot.get_distance() < distance_mm:
      error = robot.get_heading()
      correction = (kp * error) + (kd * (error - prev_error))
      left_power = speed - correction
      right_power = speed + correction
      
      robot.set_motors(left_power, right_power)
      prev_error = error
  
  robot.stop()</code></pre>
  </div>

  <h3>Turn Function</h3>
  <div class="card">
    <pre><code>def turn(degrees, speed, kp=1.0):
  robot.reset_gyro()
  
  while abs(robot.get_heading()) < abs(degrees):
      error = degrees - robot.get_heading()
      power = kp * error
      
      robot.set_motors(power, -power)
  
  robot.stop()</code></pre>
  </div>

  <div class="card">
    <p>
      Our drive-straight code uses PID-style corrections with optimized values: Kp=1.15 and Kd=0.02. These values emerged from systematic testing across different speeds and distances.
    </p>
    <p>
      The result is repeatable and reliable performance, even under varying loads and battery levels. We also manage our code using GitHub for collaboration and version control.
    </p>
  </div>

  <h3>Version Control with GitHub</h3>
  <div class="grid">
    <div class="card">
      <h4 style="color: var(--primary); margin-top: 0;">Why We Use GitHub</h4>
      <p>
        GitHub allows our team to collaborate on code safely. Each team member can work on different runs or features without overwriting others' work.
      </p>
      <p>
        We use branches for experimental changes and commits to track our progress. This means if something breaks, we can roll back to a working version.
      </p>
    </div>
    <div class="card">
      <h4 style="color: var(--primary); margin-top: 0;">Benefits for Our Team</h4>
      <ul style="text-align: left; margin-left: 1rem;">
        <li><strong>Collaboration:</strong> Multiple programmers can work simultaneously</li>
        <li><strong>History:</strong> Every change is documented with commit messages</li>
        <li><strong>Backup:</strong> Code is safely stored in the cloud</li>
        <li><strong>Testing:</strong> We can experiment without breaking working code</li>
        <li><strong>Learning:</strong> We review each other's code and learn better practices</li>
      </ul>
    </div>
    <div class="card" style="text-align: center;">
      <h4 style="color: var(--primary); margin-top: 0;">GitHub in Action</h4>
      <img src="github_ss.png" alt="GitHub repository screenshot" style="width: 100%; border-radius: 12px; margin-bottom: 0.75rem;" />
      <p style="font-size: 0.9rem; color: #666;">We organize runs, attachments, and PID tuning experiments with clear commit history and pull requests.</p>
    </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // -------------------- Kp Data --------------------
  const kpData = [
    { kp: 0.6, speed: 60, rotations: 1, error: -2.4 },
    { kp: 0.6, speed: 60, rotations: 5, error: -3.5 },
    { kp: 0.6, speed: 60, rotations: 10, error: -3.8 },
    { kp: 0.6, speed: 80, rotations: 1, error: -4.2 },
    { kp: 0.6, speed: 80, rotations: 5, error: -4.3 },
    { kp: 0.6, speed: 80, rotations: 10, error: 2.7 },
    { kp: 0.6, speed: 100, rotations: 1, error: -6.5 },
    { kp: 0.6, speed: 100, rotations: 5, error: 8 },
    { kp: 0.6, speed: 100, rotations: 10, error: -6 },

    { kp: 0.8, speed: 60, rotations: 1, error: -1.6 },
    { kp: 0.8, speed: 60, rotations: 5, error: 5.9 },
    { kp: 0.8, speed: 60, rotations: 10, error: 9.2 },
    { kp: 0.8, speed: 80, rotations: 1, error: -2.1 },
    { kp: 0.8, speed: 80, rotations: 5, error: 7.3 },
    { kp: 0.8, speed: 80, rotations: 10, error: -12.4 },

    { kp: 1.0, speed: 60, rotations: 1, error: 0.9 },
    { kp: 1.0, speed: 60, rotations: 5, error: 4.1 },
    { kp: 1.0, speed: 60, rotations: 10, error: -7.8 },
    { kp: 1.0, speed: 80, rotations: 1, error: 1.6 },
    { kp: 1.0, speed: 80, rotations: 5, error: -6.2 },
    { kp: 1.0, speed: 80, rotations: 10, error: 11.9 },

    { kp: 1.15, speed: 60, rotations: 1, error: -0.1 },
    { kp: 1.15, speed: 60, rotations: 5, error: -0.2 },
    { kp: 1.15, speed: 60, rotations: 10, error: -0.4 },
    { kp: 1.15, speed: 80, rotations: 1, error: 0.3 },
    { kp: 1.15, speed: 80, rotations: 5, error: -0.7 },
    { kp: 1.15, speed: 80, rotations: 10, error: -1.1 },
    { kp: 1.15, speed: 100, rotations: 1, error: 0.6 },
    { kp: 1.15, speed: 100, rotations: 5, error: 1.3 },
    { kp: 1.15, speed: 100, rotations: 10, error: -1.0 },

    { kp: 1.2, speed: 60, rotations: 1, error: 0.5 },
    { kp: 1.2, speed: 60, rotations: 5, error: 1.1 },
    { kp: 1.2, speed: 60, rotations: 10, error: 2.3 },
    { kp: 1.2, speed: 80, rotations: 1, error: 0.9 },
    { kp: 1.2, speed: 80, rotations: 5, error: 2.0 },
    { kp: 1.2, speed: 80, rotations: 10, error: 3.8 },
    { kp: 1.2, speed: 100, rotations: 1, error: 3.4 },
    { kp: 1.2, speed: 100, rotations: 5, error: -3.1 },
    { kp: 1.2, speed: 100, rotations: 10, error: 5.6 }
  ];

  const kpColors = ['#e6194b','#3cb44b','#4363d8'];
  const kpCtx = document.getElementById('kpChart').getContext('2d');
  let kpChart;

  function updateKpChart(selectedKp) {
    const speeds = [60,80,100];
    const datasets = speeds.map((speed,i)=>{
      const points = kpData
        .filter(d => d.kp == selectedKp && d.speed == speed)
        .map(d => ({x:d.rotations, y:d.error}));
      return {
        label: `Speed ${speed}%`,
        data: points,
        borderColor: kpColors[i],
        backgroundColor: kpColors[i],
        fill: false,
        tension:0.2
      };
    });

    if(kpChart) {
      kpChart.data.datasets = datasets;
      kpChart.update();
    } else {
      kpChart = new Chart(kpCtx,{
        type:'line',
        data:{datasets},
        options:{
          responsive:true,
          maintainAspectRatio: true,
          plugins:{
            legend:{position:'bottom'},
            title:{display:true,text:`Kp=${selectedKp} Tuning: Heading Error vs Rotations`},
            tooltip:{callbacks:{
              label: ctx => `Error: ${ctx.parsed.y}¬∞ (Rotations: ${ctx.parsed.x})`
            }}
          },
          scales:{
            x:{type:'linear', title:{display:true,text:'Rotations'}, min:0, ticks:{stepSize:1}},
            y:{title:{display:true,text:'Error (degrees)'}}
          }
        }
      });
    }
  }

  document.getElementById('kpSelect').addEventListener('change', e=>{
    updateKpChart(e.target.value);
  });

  updateKpChart(1.15); // default best Kp

  // -------------------- Kd Data --------------------
  const kdData = [
    { kd: 0.0001, rotations: 1, error: 5 },
    { kd: 0.0001, rotations: 2, error: 4.2 },
    { kd: 0.0001, rotations: 3, error: 3.8 },
    { kd: 0.0001, rotations: 4, error: 3.5 },
    { kd: 0.0001, rotations: 5, error: 3.2 },

    { kd: 0.001, rotations: 1, error: 4.5 },
    { kd: 0.001, rotations: 2, error: 3.5 },
    { kd: 0.001, rotations: 3, error: 2.9 },
    { kd: 0.001, rotations: 4, error: 2.5 },
    { kd: 0.001, rotations: 5, error: 2.2 },

    { kd: 0.01, rotations: 1, error: 2.0 },
    { kd: 0.01, rotations: 2, error: 1.5 },
    { kd: 0.01, rotations: 3, error: 1.2 },
    { kd: 0.01, rotations: 4, error: 1.0 },
    { kd: 0.01, rotations: 5, error: 0.8 },

    { kd: 0.02, rotations: 1, error: 0.5 },
    { kd: 0.02, rotations: 2, error: 0.3 },
    { kd: 0.02, rotations: 3, error: 0.1 },
    { kd: 0.02, rotations: 4, error: -0.1 },
    { kd: 0.02, rotations: 5, error: -0.2 }
  ];

  const kdColors = ['#e6194b','#3cb44b','#4363d8','#f58231'];
  const kdCtx = document.getElementById('kdChart').getContext('2d');
  let kdChart;

  function updateKdChart(selectedKd) {
    const points = kdData.filter(d => d.kd == selectedKd)
                         .map(d => ({x:d.rotations, y:d.error}));
    const dataset = [{
      label: `Kd=${selectedKd}${selectedKd==0.02?' (Best)':''}`,
      data: points,
      borderColor: kdColors[ kdData.findIndex(d=>d.kd==selectedKd)%kdColors.length ],
      backgroundColor: kdColors[ kdData.findIndex(d=>d.kd==selectedKd)%kdColors.length ],
      fill:false,
      tension:0.2
    }];

    if(kdChart){
      kdChart.data.datasets = dataset;
      kdChart.update();
    }else{
      kdChart = new Chart(kdCtx,{
        type:'line',
        data:{datasets:dataset},
        options:{
          responsive:true,
          maintainAspectRatio: true,
          plugins:{
            legend:{position:'bottom'},
            title:{display:true,text:`Kd=${selectedKd} Tuning: Heading Error vs Rotations`},
            tooltip:{callbacks:{
              label: ctx => `Error: ${ctx.parsed.y}¬∞ (Rotations: ${ctx.parsed.x})`
            }}
          },
          scales:{
            x:{type:'linear', title:{display:true,text:'Rotations'}, min:0, ticks:{stepSize:1}},
            y:{title:{display:true,text:'Error (degrees)'}}
          }
        }
      });
    }
  }

  document.getElementById('kdSelect').addEventListener('change', e=>{
    updateKdChart(e.target.value);
  });

  updateKdChart(0.02); // default best Kd
</script>

  <section id="coopertition">
    <h2>Coopertition & Shared Learning</h2>
    <div class="grid">
      <div class="card">
        <img src="studentsharefolder_ss.png" alt="Shared student folder" />
        <p>
          Our coach maintains a shared student folder where teams from Manhattan, Queens, and Hudson Valley upload robot designs, attachments, code, and videos.
        </p>
      </div>
      <div class="card">
        <img src="69309collaborationv2.png" alt="Community design collaboration" />
        <p>
          During our redesign, we studied Manhattan Team 69309‚Äôs robot and used it as a starting framework. After sharing our redesign, they later improved their robot using our ideas.
        </p>
        <p>
          This back-and-forth demonstrates true coopertition‚Äîlearning from and contributing to the community.
        </p>
      </div>
    </div>
  </section>

  <section id="reflection">
    <h2>Summary & Reflection</h2>
    <div class="card">
      <p>
        Our robot reflects a complete design cycle: identifying problems, brainstorming, testing, and iterating. By combining strong mechanical design, precise programming, and effective teamwork, we built a robot that is reliable, efficient, and repeatable.
      </p>
      <p>
        This process allowed us to overcome challenges from last year, improve our drive-straight performance, and consistently complete more missions during competition.
      </p>
    </div>
  </section>

</main>

<footer>
  <p>FIRST LEGO League ‚Ä¢ Robot Design Process ‚Ä¢ Temporary images used ‚Äî replace with team photos and diagrams</p>
  
  <div class="visitor-counter">
    <h3>üî• Website Visitors</h3>
    <div style="margin-top: 1rem;">
      <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgio1880.github.io%2Ffirefox65269%2F&count_bg=%23FF6600&title_bg=%23FF3300&icon=&icon_color=%23E7E7E7&title=Visits&edge_flat=false" alt="Visitor Count" style="max-width: 100%; height: auto;" />
    </div>
    <div class="counter-label" style="margin-top: 0.75rem;">Total Page Hits</div>
  </div>
</footer>

<!-- Image Modal -->
<div id="imageModal" class="image-modal" onclick="closeModal()">
  <span class="close-modal" onclick="closeModal()">&times;</span>
  <img class="modal-content" id="modalImage" onclick="event.stopPropagation()">
</div>

<script>
  // Image modal functionality
  function openImageModal(imageSrc) {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    modal.classList.add('active');
    modalImg.src = imageSrc;
  }

  function closeModal() {
    const modal = document.getElementById('imageModal');
    modal.classList.remove('active');
  }

  // Add click event to all run images
  document.addEventListener('DOMContentLoaded', function() {
    const runImages = document.querySelectorAll('.iteration-card img.run-image');
    runImages.forEach(img => {
      img.addEventListener('click', function() {
        openImageModal(this.src);
      });
    });
    
    // Close modal on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
      }
    });
  });
  
  // Scroll progress indicator
  window.addEventListener('scroll', function() {
    const scrollProgress = document.getElementById('scrollProgress');
    const scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrollPercent = (scrollTop / scrollHeight) * 100;
    scrollProgress.style.width = scrollPercent + '%';
    
    // Show/hide scroll to top button
    const scrollTopBtn = document.getElementById('scrollTop');
    if (scrollTop > 300) {
      scrollTopBtn.classList.add('visible');
    } else {
      scrollTopBtn.classList.remove('visible');
    }
  });
  
  // Scroll to top function
  function scrollToTop() {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  }
  function scrollToTop() {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  }
  
  // Add scroll reveal animation for sections
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
      }
    });
  }, observerOptions);
  
  document.addEventListener('DOMContentLoaded', function() {
    const sections = document.querySelectorAll('section');
    sections.forEach(section => {
      section.style.opacity = '0';
      section.style.transform = 'translateY(20px)';
      section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(section);
    });
  });
</script>

</body>
</html>
